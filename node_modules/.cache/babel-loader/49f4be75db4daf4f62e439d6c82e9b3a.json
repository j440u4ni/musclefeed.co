{"ast":null,"code":"import cookie from 'js-cookie';\nimport { authenticationConstants } from '../redux-constants/authentication-constant';\nimport { authenticateService } from '../redux-helpers/authentication-helper';\nimport { showWarning } from '../fragments-tools/alert-toasts';\nexport function authenticate(email, password, admin, reset, router) {\n  return function (dispatch) {\n    authenticateService(email, password, admin).then(function (first) {\n      return first;\n    }).then(function (second) {\n      if (second.hasOwnProperty('errors')) {\n        reset();\n        showWarning(\"Authentification échoué.\");\n      } else {\n        cookie.set('authentication-token', second.data.retrieveAdminAccount.authenticateToken);\n        cookie.set('authentication-user', JSON.stringify(second.data.retrieveAdminAccount));\n        router.push('/admin-dashboard');\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: authenticationConstants.authenticationRequest,\n      user: null\n    };\n  }\n\n  function failure() {\n    return {\n      type: authenticationConstants.authenticationFailure,\n      user: null\n    };\n  }\n\n  function success() {\n    return {\n      type: authenticationConstants.authenticationSuccess,\n      user: user\n    };\n  }\n}","map":null,"metadata":{},"sourceType":"module"}