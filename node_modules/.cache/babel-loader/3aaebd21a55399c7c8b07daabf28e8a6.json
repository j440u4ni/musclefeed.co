{"ast":null,"code":"import cookie from 'js-cookie';\nimport { productConstants } from '../redux-constants/product-constant';\nimport { addProductCategoryService, addProductPerfumeService, addProductWeightService, addProductService, addSlideshowImageService } from '../redux-helpers/product-helper';\nimport { fetchAllProductPerfumesService, fetchAllProductCategoriesService, fetchAllProductWeightsService, fetchAllProductsService, fetchAllSlideshowImagesService } from '../redux-helpers/product-helper';\nimport { showWarning, showSuccess } from '../fragments-tools/alert-toasts';\nexport function fetchAllProductCategories() {\n  return function (dispatch) {\n    fetchAllProductCategoriesService().then(function (response) {\n      return response;\n    }).then(function (second) {\n      if (second.hasOwnProperty('errors')) {\n        showWarning(\"Erreur de disposition de catégories.\");\n        dispatch(failure());\n      } else {\n        cookie.set('product-categories', JSON.stringify(second.data.fetchAllCategories));\n        dispatch(success(JSON.stringify(second.data.fetchAllCategories)));\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: productConstants.productCategoryFetchRequest,\n      categories: null\n    };\n  }\n\n  function success(categories) {\n    return {\n      type: productConstants.productCategoryFetchSuccess,\n      categories: categories\n    };\n  }\n\n  function failure() {\n    return {\n      type: productConstants.productCategoryFetchFailure,\n      categories: null\n    };\n  }\n}\nexport function fetchAllProductWeights() {\n  return function (dispatch) {\n    fetchAllProductWeightsService().then(function (response) {\n      return response;\n    }).then(function (second) {\n      if (second.hasOwnProperty('errors')) {\n        showWarning(\"Erreur de disposition de poids.\");\n        dispatch(failure());\n      } else {\n        cookie.set('product-weights', JSON.stringify(second.data.fetchAllWeights));\n        dispatch(success(JSON.stringify(second.data.fetchAllWeights)));\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: productConstants.productWeightFetchRequest,\n      weights: null\n    };\n  }\n\n  function success(weights) {\n    return {\n      type: productConstants.productWeightFetchSuccess,\n      weights: weights\n    };\n  }\n\n  function failure() {\n    return {\n      type: productConstants.productWeightFetchFailure,\n      weights: null\n    };\n  }\n}\nexport function fetchAllProductPerfumes() {\n  return function (dispatch) {\n    fetchAllProductPerfumesService().then(function (response) {\n      return response;\n    }).then(function (second) {\n      if (second.hasOwnProperty('errors')) {\n        showWarning(\"Erreur de disposition de parfums.\");\n        dispatch(failure());\n      } else {\n        cookie.set('product-perfumes', JSON.stringify(second.data.fetchAllPerfumes));\n        dispatch(success(JSON.stringify(second.data.fetchAllPerfumes)));\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: productConstants.productPerfumeFetchRequest,\n      perfumes: null\n    };\n  }\n\n  function success(perfumes) {\n    return {\n      type: productConstants.productPerfumeFetchSuccess,\n      perfumes: perfumes\n    };\n  }\n\n  function failure() {\n    return {\n      type: productConstants.productPerfumeFetchFailure,\n      perfumes: null\n    };\n  }\n}\nexport function fetchAllProducts() {\n  return function (dispatch) {\n    fetchAllProductsService().then(function (response) {\n      return response;\n    }).then(function (second) {\n      if (second.hasOwnProperty('errors')) {\n        showWarning(\"Erreur de disposition de produits.\");\n        dispatch(failure());\n      } else {\n        cookie.set('products', JSON.stringify(second.data.fetchProducts));\n        dispatch(success(JSON.stringify(second.data.fetchProducts)));\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: productConstants.productFetchRequest,\n      products: null\n    };\n  }\n\n  function success(products) {\n    return {\n      type: productConstants.productFetchSuccess,\n      products: products\n    };\n  }\n\n  function failure() {\n    return {\n      type: productConstants.productFetchFailure,\n      products: null\n    };\n  }\n}\nexport function fetchAllSlideshowImages() {\n  return function (dispatch) {\n    fetchAllSlideshowImagesService().then(function (response) {\n      return response;\n    }).then(function (second) {\n      if (second.hasOwnProperty('errors')) {\n        showWarning(\"Erreur de disposition d'images.\");\n        dispatch(failure());\n      } else {\n        cookie.set('slideshow', JSON.stringify(second.data.fetchSlideshowImageQuery));\n        dispatch(success(JSON.stringify(second.data.fetchSlideshowImageQuery)));\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: productConstants.productSlideshowFetchRequest,\n      slideshow: null\n    };\n  }\n\n  function success(slideshow) {\n    return {\n      type: productConstants.productSlideshowFetchSuccess,\n      slideshow: slideshow\n    };\n  }\n\n  function failure() {\n    return {\n      type: productConstants.productSlideshowFetchFailure,\n      slideshow: null\n    };\n  }\n}\nexport function addProductCategory(name, description, close) {\n  return function (dispatch) {\n    addProductCategoryService(name, description).then(function (response) {\n      dispatch(request());\n      return response;\n    }).then(function (second) {\n      if (second.hasOwnProperty('errors')) {\n        close(false);\n        showWarning(\"Addition catégorie échoué.\");\n        dispatch(failure());\n      } else {\n        dispatch(success(second.data.addProductCategoryQuery));\n        dispatch(fetchAllProductCategories());\n        close();\n        showSuccess(\"Addition catégorie avec succès.\");\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: productConstants.productCategoryAddRequest,\n      categories: null\n    };\n  }\n\n  function success(categories) {\n    return {\n      type: productConstants.productCategoryAddSuccess,\n      categories: categories\n    };\n  }\n\n  function failure() {\n    return {\n      type: productConstants.productCategoryAddFailure,\n      categories: null\n    };\n  }\n}\nexport function addProductPerfume(name, description, close) {\n  return function (dispatch) {\n    addProductPerfumeService(name, description).then(function (response) {\n      dispatch(request());\n      return response;\n    }).then(function (second) {\n      if (second.hasOwnProperty('errors')) {\n        close(false);\n        showWarning(\"Addition catégorie échoué.\");\n        dispatch(failure());\n      } else {\n        dispatch(success(second.data.addProductPerfumeQuery));\n        dispatch(fetchAllProductPerfumes());\n        close();\n        showSuccess(\"Addition parfum avec succès.\");\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: productConstants.productPerfumeAddRequest,\n      perfumes: null\n    };\n  }\n\n  function success(perfumes) {\n    return {\n      type: productConstants.productPerfumeAddSuccess,\n      perfumes: perfumes\n    };\n  }\n\n  function failure() {\n    return {\n      type: productConstants.productPerfumeAddFailure,\n      perfumes: null\n    };\n  }\n}\nexport function addProductWeight(name, value, close) {\n  return function (dispatch) {\n    addProductWeightService(name, value).then(function (response) {\n      dispatch(request());\n      return response;\n    }).then(function (second) {\n      if (second.hasOwnProperty('errors')) {\n        close(false);\n        showWarning(\"Addition catégorie échoué.\");\n        dispatch(failure());\n      } else {\n        dispatch(success(second.data.addProductWeightQuery));\n        dispatch(fetchAllProductWeights());\n        close();\n        showSuccess(\"Addition poids avec succès.\");\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: productConstants.productWeightAddRequest,\n      weights: null\n    };\n  }\n\n  function success(weights) {\n    return {\n      type: productConstants.productWeightAddSuccess,\n      weights: weights\n    };\n  }\n\n  function failure() {\n    return {\n      type: productConstants.productWeightAddFailure,\n      weights: null\n    };\n  }\n}\nexport function addProduct(title, quantity, provider, description_title, description, image, details) {\n  return function (dispatch) {\n    addProductService(title, quantity, provider, description_title, description, image, details).then(function (response) {\n      dispatch(request());\n      return response;\n    }).then(function (second) {\n      if (second.hasOwnProperty('errors')) {\n        showWarning(\"Addition produit échoué.\");\n        dispatch(failure());\n      } else {\n        dispatch(success(second.data.addProductQuery));\n        showSuccess(\"Addition produit avec succès.\");\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: productConstants.productAddRequest,\n      products: null\n    };\n  }\n\n  function success(products) {\n    return {\n      type: productConstants.productAddSuccess,\n      products: products\n    };\n  }\n\n  function failure() {\n    return {\n      type: productConstants.productAddFailure,\n      products: null\n    };\n  }\n}\nexport function addSlideshowImage(name, image) {\n  return function (dispatch) {\n    addSlideshowImageService(name, image).then(function (response) {\n      dispatch(request());\n      return response;\n    }).then(function (second) {\n      console.log(second);\n\n      if (second.hasOwnProperty('errors')) {\n        showWarning(\"Addition image échoué.\");\n        dispatch(failure());\n      } else {\n        dispatch(success(second.data.addSlideshowImageQuery));\n        showSuccess(\"Addition image avec succès.\");\n      }\n    });\n  };\n\n  function request() {\n    return {\n      type: productConstants.productSlideshowAddRequest,\n      slideshow: null\n    };\n  }\n\n  function success(slideshow) {\n    return {\n      type: productConstants.productSlideshowAddSuccess,\n      slideshow: slideshow\n    };\n  }\n\n  function failure() {\n    return {\n      type: productConstants.productSlideshowAddFailure,\n      slideshow: null\n    };\n  }\n}","map":null,"metadata":{},"sourceType":"module"}